{"version":3,"sources":["webpack:///webpack/bootstrap 392977f2904c8143fca7","webpack:///./client/game.js","webpack:///./server/util.js","webpack:///./client/game_view.js","webpack:///./client/player.js","webpack:///./client/static_assets.js","webpack:///./client/pokemania.js"],"names":["Game","context","staticAssets","players","draw","bind","offset","loading","clearRect","CANVAS_X","CANVAS_Y","fillStyle","BG_COLOR","fillRect","drawLoadingScreen","drawBoard","drawPlayers","Object","keys","forEach","player","playerId","outOfCanvasBounds","currentPlayer","currentPlayerId","drawOrInitializePlayer","BORDER_COLOR","font","fillText","save","translate","strokeStyle","lineWidth","BORDER_WIDTH","rect","DIM_X","DIM_Y","stroke","GRASS_COLOR","fill","pattern","createPattern","images","restore","pos","radius","time","beginPath","COUNTDOWN_WIDTH","Math","floor","POKEMON_IDS","Util","dist","pos1","pos2","sqrt","pow","randomRadius","random","randomVelocity","randomVelocityPiece","randomPokemonId","length","randomPlayerName","POKEMON_CHARACTER_NAMES","randomId","text","possible","i","charAt","DEFAULT_RADIUS","module","exports","GameView","socket","receiveLoadedImages","game","playStatus","setEventHandlers","bindKeyHandlers","setCurrentPlayerId","activateScreen","activateDireHitTime","initialData","pokemonId","selectedPokemonImage","data","emit","name","id","imgLoaded","addStartClickListener","addSelectPokemonClickListener","addInstructionsClickListener","addRestartClickListener","on","drawGame","startCountdown","handleInactivity","Date","now","lag","resetIfLost","powerCurrentPlayer","getCurrentPlayerOffset","handleDireHitCountdown","checkInitialData","currentTime","drawCountdown","startButton","document","getElementById","onclick","start","selectPokemonButton","value","populateSelectList","selectPokemon","selectPokemonBody","e","stopPropagation","pokemonList","addPokemonToSelectList","setTimeout","selectListLoading","className","firstChild","pokemonListItem","createElement","pokemonUrl","pokemonImage","appendChild","bindPokemonSelectClickListener","classList","toggle","restartButtons","getElementsByClassName","restartButton","type","canvas","startScreen","restartScreen","instructions","inactiveScreen","selectPokemonScreen","instructionsButton","instructionsBody","MOVES","move","key","addEventListener","preventDefault","KEYS","activateDireHit","impulse","allImpulses","up","push","down","left","right","impulses","Player","fetchImage","img","url","loadImage","Image","onload","addLoadedImage","src","includes","resetImage","checkNewImage","drawName","drawOutline","drawImage","PLAYER_INFO_COLOR","direHit","drawDireHit","arc","PI","NORMAL_OUTLINE_WIDTH","activatingDireHit","drawDireHitOutline","DIRE_HIT_COLOR","SPIKES_COLOR","DIRE_HIT_OUTLINE_WIDTH","drawRotatedSquare","rotate","StaticAssets","notifyCallback","loadedCount","loadImages","checkAllLoaded","loadedImage","IMAGE_URLS","addImage","imageUrl","map","concat","width","height","getContext","io","gameView"],"mappings":"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","file":"./client/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 392977f2904c8143fca7","import Player from './player';\n\nclass Game {\n  constructor(context, staticAssets) {\n    this.context = context;\n    this.players = {};\n    this.staticAssets = staticAssets;\n\n    this.draw = this.draw.bind(this);\n  }\n\n  draw(offset, players, loading = false) {\n    this.context.clearRect(0, 0, Game.CANVAS_X, Game.CANVAS_Y);\n    this.context.fillStyle = Game.BG_COLOR;\n    this.context.fillRect(0, 0, Game.CANVAS_X, Game.CANVAS_Y);\n\n    if (loading) {\n      this.drawLoadingScreen();\n    } else {\n      this.drawBoard(offset);\n      this.drawPlayers(offset, players);\n    }\n  }\n\n  drawPlayers(offset, players) {\n    Object.keys(players).forEach(playerId => {\n      const player = players[playerId];\n\n      if (!this.outOfCanvasBounds(player, offset)) {\n        const currentPlayer = playerId === this.currentPlayerId;\n        this.drawOrInitializePlayer(offset, player, playerId, currentPlayer);\n      }\n    });\n  }\n\n  drawOrInitializePlayer(offset, player, playerId, currentPlayer) {\n    if (this.players[playerId]) {\n      this.players[playerId].draw(offset, player);\n    } else {\n      this.players[playerId] = new Player(\n        this.context,\n        player,\n        this.staticAssets,\n        currentPlayer\n      );\n    }\n  }\n\n  drawLoadingScreen() {\n    this.context.fillStyle = Game.BORDER_COLOR;\n    this.context.font = \"bold 50px Arial\";\n\n    this.context.fillText(\n      \"Loading...\",\n      Game.CANVAS_X / 2 - 110,\n      Game.CANVAS_Y / 2\n    );\n  }\n\n  drawBoard(offset) {\n    this.context.save();\n    this.context.translate(offset[0], offset[1]);\n\n    this.context.strokeStyle = Game.BORDER_COLOR;\n    this.context.lineWidth = Game.BORDER_WIDTH;\n    this.context.rect(0, 0, Game.DIM_X, Game.DIM_Y);\n    this.context.stroke();\n\n    this.context.fillStyle = Game.GRASS_COLOR;\n    this.context.fill();\n\n    const pattern = this.context.createPattern(\n      this.staticAssets.images[\"assets/img/grass.png\"],\n      \"repeat\"\n    );\n    this.context.fillStyle = pattern;\n    this.context.fill();\n\n    this.context.restore();\n  }\n\n  outOfCanvasBounds(player, offset) {\n    const pos = player.pos,\n    radius = player.radius;\n\n    return (pos[0] + offset[0] + radius < 0 ||\n      pos[0] + offset[0] - radius > Game.CANVAS_X ||\n      pos[1] + offset[1] + radius < 0 ||\n      pos[1] + offset[1] - radius > Game.CANVAS_Y\n    );\n  }\n\n  drawCountdown(time) {\n    this.context.beginPath();\n    this.context.rect(20, 20, 100, 40);\n    this.context.fillStyle = 'white';\n    this.context.fill();\n    this.context.lineWidth = Game.COUNTDOWN_WIDTH;\n    this.context.strokeStyle = Game.BORDER_COLOR;\n\n    this.context.fillStyle = Game.BORDER_COLOR;\n    this.context.font = \"bold 24px Arial\";\n\n    this.context.fillText(Math.floor(time) / 1000, 25, 45);\n  }\n\n  setCurrentPlayerId(playerId) {\n    this.currentPlayerId = playerId;\n  }\n}\n\nGame.BG_COLOR = \"#8bf1ff\";\nGame.BORDER_WIDTH = 15;\nGame.COUNTDOWN_WIDTH = 5;\nGame.BORDER_COLOR = \"#001f95\";\nGame.GRASS_COLOR = \"#88ddb1\";\nGame.DIM_X = 2000;\nGame.DIM_Y = 2000;\nGame.CANVAS_X = 800;\nGame.CANVAS_Y = 500;\n\nexport default Game;\n\n\n\n// WEBPACK FOOTER //\n// ./client/game.js","const POKEMON_IDS = [\n  1, 4, 7, 24, 29, 34, 92, 112, 147, 152, 155, 158, 220, 304, 371\n];\n\nconst Util = {\n  dist(pos1, pos2) {\n    return Math.sqrt(\n      Math.pow(pos1[0] - pos2[0], 2) + Math.pow(pos1[1] - pos2[1], 2)\n    );\n  },\n\n  randomRadius() {\n    return Math.floor(Math.random() * (20 - 5)) + 5;\n  },\n\n  randomVelocity() {\n    return [\n      this.randomVelocityPiece(),\n      this.randomVelocityPiece()\n    ];\n  },\n\n  randomVelocityPiece() {\n    return Math.floor(Math.random() * (1.2 + 1.2)) - 1.2;\n  },\n\n  randomPokemonId() {\n    return POKEMON_IDS[Math.floor(Math.random() * POKEMON_IDS.length)];\n  },\n\n  randomPlayerName() {\n    return POKEMON_CHARACTER_NAMES[Math.floor(Math.random() * POKEMON_CHARACTER_NAMES.length)];\n  },\n\n  randomId() {\n    let text = \"\";\n    const possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n\n    for (let i = 0; i < 5; i++) {\n      text += possible.charAt(Math.floor(Math.random() * possible.length));\n    }\n\n    return text;\n  },\n\n  DEFAULT_RADIUS: 15,\n\n  POKEMON_IDS: POKEMON_IDS\n};\n\nconst POKEMON_CHARACTER_NAMES = [\n  \"Misty\",\n  \"Lass\",\n  \"Beauty\",\n  \"Serena\",\n  \"Bonnie\",\n  \"Iris\",\n  \"Jessie\",\n  \"Lillie\",\n  \"May\",\n  \"Dawn\",\n  \"Moon\",\n  \"Mallow\",\n  \"Sakura\",\n  \"Shauna\",\n  \"Candela\",\n  \"Officer Jenny\",\n  \"Aria\",\n  \"Olivia\",\n  \"Lusamine\",\n  \"Lana\",\n  \"Professor Ivy\",\n  \"Mom\",\n  \"Sabrina\",\n  \"Viola\",\n  \"Daisy\",\n  \"Bianca\",\n  \"Sumomo\",\n  \"Blanche\",\n  \"Agatha\",\n  \"Georgia\",\n  \"Grace\",\n  \"Malva\",\n  \"Karen\"\n];\n\nmodule.exports = Util;\n\n\n\n// WEBPACK FOOTER //\n// ./server/util.js","import Util from '../server/util';\nimport Game from './game';\nimport StaticAssets from './static_assets';\n\nclass GameView {\n  constructor(context, socket) {\n    this.context = context;\n    this.staticAssets = new StaticAssets(this.receiveLoadedImages.bind(this));\n    this.game = new Game(this.context, this.staticAssets);\n    this.socket = socket;\n    this.currentPlayerId = null;\n    this.playStatus = \"startScreen\";\n\n    this.setEventHandlers();\n  }\n\n  start() {\n    this.bindKeyHandlers();\n    this.currentPlayerId = this.currentPlayerId || Util.randomId();\n    this.game.setCurrentPlayerId(this.currentPlayerId);\n    this.activateScreen(\"playGame\");\n    this.activateDireHitTime = null;\n    this.playStatus = \"playing\";\n    this.initialData = false;\n\n    const pokemonId = this.selectedPokemonImage ?\n      this.selectedPokemonImage.data : null;\n\n    this.socket.emit(\"new player\", {\n      name: this.name,\n      pokemonId: pokemonId,\n      id: this.currentPlayerId\n    });\n  }\n\n  receiveLoadedImages() {\n    this.imgLoaded = true;\n  }\n\n  setEventHandlers() {\n    this.addStartClickListener();\n    this.addSelectPokemonClickListener();\n    this.addInstructionsClickListener();\n    this.addRestartClickListener();\n\n    this.socket.on(\"draw game\", this.drawGame.bind(this));\n    this.socket.on(\"activate dire hit\", this.startCountdown.bind(this));\n    this.socket.on(\"inactive player\", this.handleInactivity.bind(this));\n  }\n\n  startCountdown(data) {\n    if (data.id === this.currentPlayerId) {\n      this.activateDireHitTime = Date.now() + data.lag;\n    }\n  }\n\n  drawGame(data) {\n    if (this.playStatus === \"restart\") return;\n\n    if (this.playStatus === \"playing\") {\n      if (this.resetIfLost(data)) return;\n      this.powerCurrentPlayer();\n\n      if (this.initialData && this.imgLoaded) {\n        const offset = this.getCurrentPlayerOffset(data);\n        this.game.draw(offset, data);\n        this.handleDireHitCountdown();\n      } else {\n        this.game.draw(null, data, true);\n        this.checkInitialData(data);\n      }\n    }\n  }\n\n  handleDireHitCountdown() {\n    if (this.activateDireHitTime) {\n      const currentTime = Date.now();\n\n      if (this.activateDireHitTime < currentTime) {\n        this.activateDireHitTime = null;\n      } else {\n        this.game.drawCountdown(this.activateDireHitTime - currentTime);\n      }\n    }\n  }\n\n  checkInitialData(data) {\n    if (data[this.currentPlayerId]) {\n      this.initialData = true;\n    }\n  }\n\n  resetIfLost(data) {\n    if (!data[this.currentPlayerId] && this.initialData) {\n      this.activateScreen(\"restart\");\n      this.playStatus = \"restart\";\n      return true;\n    }\n\n    return false;\n  }\n\n  addStartClickListener() {\n    const startButton = document.getElementById(\"start-button\");\n\n    startButton.onclick = () => {\n      this.start();\n    };\n  }\n\n  addSelectPokemonClickListener() {\n    const selectPokemonButton = document.getElementById(\"select-pokemon-button\");\n\n    selectPokemonButton.onclick = () => {\n      this.name = document.getElementById(\"name-input\").value;\n      if (this.name.length > 25) this.name = \"\";\n      this.populateSelectList();\n      this.activateScreen(\"selectPokemon\");\n    };\n\n    const selectPokemon = document.getElementById(\"select-pokemon\");\n    selectPokemon.onclick = () => {\n      this.activateScreen(\"selectPokemon\");\n    };\n\n    const selectPokemonBody = document.getElementById(\"select-pokemon-body\");\n    selectPokemonBody.onclick = e => {\n      e.stopPropagation();\n    };\n  }\n\n  populateSelectList() {\n    const pokemonList = document.getElementById(\"pokemon-list\");\n\n    if (this.imgLoaded) {\n      this.addPokemonToSelectList(pokemonList);\n    } else {\n      setTimeout(this.populateSelectList.bind(this), 100);\n    }\n  }\n\n  addPokemonToSelectList(pokemonList) {\n    const selectListLoading = document.getElementById(\"select-loading\");\n    selectListLoading.className = \"hidden\";\n\n    if (!pokemonList.firstChild) {\n      Util.POKEMON_IDS.forEach(pokemonId => {\n        const pokemonListItem = document.createElement(\"li\");\n        const pokemonUrl = `assets/img/pokemon-${pokemonId}.png`;\n        const pokemonImage = this.staticAssets.images[pokemonUrl];\n        pokemonImage.className = \"select-pokemon-img\";\n        pokemonImage.data = pokemonId;\n\n        pokemonListItem.appendChild(pokemonImage);\n        this.bindPokemonSelectClickListener(pokemonImage);\n\n        pokemonList.appendChild(pokemonListItem);\n      });\n    }\n  }\n\n  bindPokemonSelectClickListener(pokemonImage) {\n    pokemonImage.onclick = () => {\n      pokemonImage.classList.toggle(\"select-pokemon-img-focus\");\n\n      if (this.selectedPokemonImage) {\n        this.selectedPokemonImage.classList.toggle(\"select-pokemon-img-focus\");\n      }\n\n      this.selectedPokemonImage = pokemonImage;\n    };\n  }\n\n  addRestartClickListener() {\n    const restartButtons = document.getElementsByClassName(\"restart-button\");\n\n    for (let i = 0; i < restartButtons.length; i++) {\n      let restartButton = restartButtons[i];\n\n      restartButton.onclick = () => {\n        this.start();\n      };\n    }\n  }\n\n  activateScreen(type) {\n    const canvas = document.getElementById(\"game-canvas\");\n    const startScreen = document.getElementById(\"start-screen\");\n    const restartScreen = document.getElementById(\"restart-screen\");\n    const instructions = document.getElementById(\"instructions\");\n    const inactiveScreen = document.getElementById(\"inactive-screen\");\n    const selectPokemonScreen = document.getElementById(\"select-pokemon\");\n\n    canvas.className = type === \"playGame\" ? \"\" : \"hidden\";\n    startScreen.className = type === \"start\" ||\n      type === \"selectPokemon\" ||\n      type === \"instructions\" ? \"\" : \"hidden\";\n    restartScreen.className = type === \"restart\" ? \"\" : \"hidden\";\n    inactiveScreen.className = type === \"inactive\" ? \"\" : \"hidden\";\n\n    if (type === \"instructions\") {\n      instructions.classList.toggle(\"hidden\");\n    } else {\n      instructions.className = \"hidden\";\n    }\n\n    if (type === \"selectPokemon\") {\n      selectPokemonScreen.classList.toggle(\"hidden\");\n    } else {\n      selectPokemonScreen.className = \"hidden\";\n    }\n  }\n\n  addInstructionsClickListener() {\n    const instructionsButton = document.getElementById(\"instructions-button\");\n    instructionsButton.onclick = () => {\n      this.activateScreen(\"instructions\");\n    };\n\n    const instructions = document.getElementById(\"instructions\");\n    instructions.onclick = () => {\n      this.activateScreen(\"instructions\");\n    };\n\n    const instructionsBody = document.getElementById(\"instructions-body\");\n    instructionsBody.onclick = e => {\n      e.stopPropagation();\n    };\n  }\n\n  bindKeyHandlers() {\n    Object.keys(GameView.MOVES).forEach(key => {\n      let move = GameView.MOVES[key];\n\n      document.addEventListener('keydown', e => {\n        if (e.key === key) {\n          e.preventDefault();\n          GameView.KEYS[GameView.MOVES[key]] = true;\n        }\n      }, false);\n\n      document.addEventListener('keyup', e => {\n        if (e.key === key) {\n          e.preventDefault();\n          GameView.KEYS[GameView.MOVES[key]] = false;\n        }\n      }, false);\n    });\n\n    document.addEventListener('keydown', e => {\n      if (e.key === \" \") {\n        e.preventDefault();\n        this.activateDireHit();\n      }\n    });\n  }\n\n  getCurrentPlayerOffset(data) {\n    return [\n      Game.CANVAS_X / 2 - data[this.currentPlayerId].pos[0],\n      Game.CANVAS_Y / 2 - data[this.currentPlayerId].pos[1]\n    ];\n  }\n\n  powerCurrentPlayer() {\n    const impulse = 0.5;\n    const allImpulses = [];\n\n    if (GameView.KEYS.up) allImpulses.push([0, -impulse]);\n    if (GameView.KEYS.down) allImpulses.push([0, impulse]);\n    if (GameView.KEYS.left) allImpulses.push([-impulse, 0]);\n    if (GameView.KEYS.right) allImpulses.push([impulse, 0]);\n\n    this.socket.emit(\n      \"move player\",\n      { id: this.currentPlayerId, impulses: allImpulses }\n    );\n  }\n\n  activateDireHit() {\n    this.socket.emit(\"dire hit player\", { id: this.currentPlayerId });\n  }\n\n  handleInactivity(data) {\n    if (data.id === this.currentPlayerId) {\n      this.playStatus === \"restart\";\n      this.activateScreen(\"inactive\");\n    }\n  }\n}\n\nGameView.MOVES = {\n  \"ArrowLeft\": \"left\",\n  \"ArrowUp\": \"up\",\n  \"ArrowRight\": \"right\",\n  \"ArrowDown\": \"down\"\n};\n\nGameView.KEYS = {\n  up: false,\n  down: false,\n  left: false,\n  right: false\n};\n\nexport default GameView;\n\n\n\n// WEBPACK FOOTER //\n// ./client/game_view.js","class Player {\n  constructor(context, data, staticAssets, currentPlayer = false) {\n    this.context = context;\n    this.staticAssets = staticAssets;\n    this.currentPlayer = currentPlayer;\n\n    this.imgLoaded = false;\n    this.fetchImage(data.img);\n  }\n\n  fetchImage(url) {\n    if (this.currentPlayer && url === \"assets/img/egg.png\") {\n      url = \"assets/img/current_player_egg.png\";\n    }\n\n    if (this.staticAssets.images[url]) {\n      this.img = this.staticAssets.images[url];\n      this.imgLoaded = true;\n    } else {\n      this.loadImage(url);\n    }\n  }\n\n  loadImage(url) {\n    this.img = new Image();\n\n    this.img.onload = () => {\n      this.imgLoaded = true;\n      this.staticAssets.addLoadedImage(url, this.img);\n    };\n\n    this.img.src = url;\n  }\n\n  resetImage(url) {\n    this.imgLoaded = false;\n    this.fetchImage(url);\n  }\n\n  checkNewImage(url) {\n    if (!this.img.src.includes(url)) {\n      this.resetImage(url);\n    }\n  }\n\n  draw(offset, data) {\n    this.checkNewImage(data.img);\n    this.drawName(offset, data);\n    this.drawOutline(offset, data);\n\n    this.drawImage(offset, data);\n  }\n\n  drawName(offset, data) {\n    this.context.fillStyle = Player.PLAYER_INFO_COLOR;\n    this.context.font = \"bold 14px Arial\";\n\n    this.context.fillText(\n      data.name,\n      data.pos[0] + offset[0] + data.radius + 3,\n      data.pos[1] + offset[1]\n    );\n  }\n\n  drawImage(offset, data) {\n    const img = this.imgLoaded ?\n      this.img : this.staticAssets.images[\"assets/img/evolve.png\"];\n\n    this.context.drawImage(\n      img,\n      data.pos[0] + offset[0] - data.radius,\n      data.pos[1] + offset[1] - data.radius,\n      data.radius * 2,\n      data.radius * 2\n    );\n  }\n\n  drawOutline(offset, data) {\n    if (data.direHit) this.drawDireHit(offset, data);\n\n    this.context.beginPath();\n    this.context.arc(\n      data.pos[0] + offset[0],\n      data.pos[1] + offset[1],\n      data.radius,\n      0,\n      2 * Math.PI\n    );\n\n    this.context.lineWidth = Player.NORMAL_OUTLINE_WIDTH;\n    this.context.strokeStyle = Player.PLAYER_INFO_COLOR;\n    this.context.stroke();\n\n    if (data.activatingDireHit || data.direHit) {\n      this.drawDireHitOutline(offset, data);\n    }\n  }\n\n  drawDireHitOutline(offset, data) {\n    this.context.beginPath();\n    this.context.arc(\n      data.pos[0] + offset[0],\n      data.pos[1] + offset[1],\n      data.radius + Player.NORMAL_OUTLINE_WIDTH * 0.75,\n      0,\n      2 * Math.PI\n    );\n\n    this.context.lineWidth = Player.NORMAL_OUTLINE_WIDTH * 0.75;\n    this.context.strokeStyle = Player.DIRE_HIT_COLOR;\n    this.context.stroke();\n  }\n\n  drawDireHit(offset, data) {\n    this.context.beginPath();\n    this.context.fillStyle = Player.SPIKES_COLOR;\n    this.context.fillRect(\n      data.pos[0] + offset[0] - data.radius - Player.DIRE_HIT_OUTLINE_WIDTH / 2 + 2,\n      data.pos[1] + offset[1] - data.radius - Player.DIRE_HIT_OUTLINE_WIDTH / 2 + 2,\n      data.radius * 2 + Player.DIRE_HIT_OUTLINE_WIDTH - 4,\n      data.radius * 2 + Player.DIRE_HIT_OUTLINE_WIDTH - 4\n    );\n\n    this.drawRotatedSquare(offset, data);\n  }\n\n  drawRotatedSquare(offset, data) {\n    this.context.save();\n\n    this.context.translate(\n      data.pos[0] + offset[0],\n      data.pos[1] + offset[1]\n    );\n\n    this.context.rotate(Math.PI / 4);\n    this.context.fillStyle = Player.SPIKES_COLOR;\n    this.context.fillRect(\n      -(data.radius + Player.DIRE_HIT_OUTLINE_WIDTH / 2) + 2,\n      -(data.radius + Player.DIRE_HIT_OUTLINE_WIDTH / 2) + 2,\n      data.radius * 2 + Player.DIRE_HIT_OUTLINE_WIDTH - 4,\n      data.radius * 2 + Player.DIRE_HIT_OUTLINE_WIDTH - 4\n    );\n\n    this.context.restore();\n  }\n}\n\nPlayer.PLAYER_INFO_COLOR = \"#000\";\nPlayer.DIRE_HIT_COLOR = \"#ff3d00\";\nPlayer.SPIKES_COLOR = \"#fffc00\";\nPlayer.NORMAL_OUTLINE_WIDTH = 5;\nPlayer.DIRE_HIT_OUTLINE_WIDTH = 10;\n\nexport default Player;\n\n\n\n// WEBPACK FOOTER //\n// ./client/player.js","import Util from '../server/util.js';\n\nclass StaticAssets {\n  constructor(notifyCallback) {\n    this.loadedCount = 0;\n    this.images = {};\n    this.notifyCallback = notifyCallback;\n\n    this.loadImages();\n  }\n\n  addImage(url) {\n    this.images[url] = new Image();\n\n    this.images[url].onload = () => {\n      this.loadedCount++;\n\n      if (this.checkAllLoaded()) {\n        this.notifyCallback();\n      }\n    };\n\n    this.images[url].src = url;\n  }\n\n  addLoadedImage(url, loadedImage) {\n    this.images[url] = loadedImage;\n  }\n\n  loadImages() {\n    StaticAssets.IMAGE_URLS.forEach(imageUrl => {\n      this.addImage(imageUrl);\n    });\n  }\n\n  checkAllLoaded() {\n    return this.loadedCount === Object.keys(this.images).length;\n  }\n}\n\nStaticAssets.IMAGE_URLS = Util.POKEMON_IDS.map(pokemonId => (\n  `assets/img/pokemon-${pokemonId}.png`\n)).concat([\n  \"assets/img/egg.png\",\n  \"assets/img/current_player_egg.png\",\n  \"assets/img/grass.png\",\n  \"assets/img/evolve.png\"\n]);\n\nexport default StaticAssets;\n\n\n\n// WEBPACK FOOTER //\n// ./client/static_assets.js","import GameView from './game_view';\nimport Game from './game';\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  const canvas = document.getElementById(\"game-canvas\");\n  canvas.width = Game.CANVAS_X;\n  canvas.height = Game.CANVAS_Y;\n  const context = canvas.getContext(\"2d\");\n  const socket = io();\n\n  const gameView = new GameView(context, socket);\n});\n\n\n\n// WEBPACK FOOTER //\n// ./client/pokemania.js"],"sourceRoot":""}