{"version":3,"sources":["webpack:///webpack/bootstrap d1e0d92fa0447e3aaa3f","webpack:///./client/game.js","webpack:///./client/game_view.js","webpack:///./client/player.js","webpack:///./client/static_assets.js","webpack:///./server/util.js","webpack:///./client/pokemania.js"],"names":["Game","context","staticAssets","players","draw","bind","offset","loading","clearRect","CANVAS_X","CANVAS_Y","fillStyle","BG_COLOR","fillRect","drawLoadingScreen","drawBoard","drawPlayers","Object","keys","forEach","player","playerId","outOfCanvasBounds","currentPlayer","currentPlayerId","drawOrInitializePlayer","BORDER_COLOR","font","fillText","save","translate","strokeStyle","lineWidth","BORDER_WIDTH","rect","DIM_X","DIM_Y","stroke","GRASS_COLOR","fill","pattern","createPattern","images","restore","pos","radius","time","beginPath","COUNTDOWN_WIDTH","Math","floor","GameView","socket","receiveLoadedImages","game","playStatus","setEventHandlers","bindKeyHandlers","randomId","setCurrentPlayerId","activateScreen","activateDireHitTime","initialData","pokemonId","selectedPokemonImage","data","emit","name","id","imgLoaded","addStartClickListener","addSelectPokemonClickListener","addInstructionsClickListener","addRestartClickListener","on","drawGame","startCountdown","handleInactivity","Date","now","lag","resetIfLost","powerCurrentPlayer","getCurrentPlayerOffset","handleDireHitCountdown","checkInitialData","currentTime","drawCountdown","startButton","document","getElementById","onclick","start","selectPokemonButton","value","length","populateSelectList","selectPokemon","selectPokemonBody","e","stopPropagation","pokemonList","addPokemonToSelectList","setTimeout","selectListLoading","className","firstChild","POKEMON_IDS","pokemonListItem","createElement","pokemonUrl","pokemonImage","appendChild","bindPokemonSelectClickListener","classList","toggle","restartButtons","getElementsByClassName","i","restartButton","type","canvas","startScreen","restartScreen","instructions","inactiveScreen","selectPokemonScreen","instructionsButton","instructionsBody","MOVES","move","key","addEventListener","preventDefault","KEYS","activateDireHit","impulse","allImpulses","up","push","down","left","right","impulses","Player","fetchImage","img","url","loadImage","Image","onload","addLoadedImage","src","includes","resetImage","checkNewImage","drawName","drawOutline","drawImage","PLAYER_INFO_COLOR","direHit","drawDireHit","arc","PI","NORMAL_OUTLINE_WIDTH","activatingDireHit","drawDireHitOutline","DIRE_HIT_COLOR","SPIKES_COLOR","DIRE_HIT_OUTLINE_WIDTH","drawRotatedSquare","rotate","StaticAssets","notifyCallback","loadedCount","loadImages","checkAllLoaded","loadedImage","IMAGE_URLS","addImage","imageUrl","map","concat","Util","dist","pos1","pos2","sqrt","pow","randomRadius","random","randomVelocity","randomVelocityPiece","randomPokemonId","randomPlayerName","POKEMON_CHARACTER_NAMES","text","possible","charAt","DEFAULT_RADIUS","module","exports","width","height","getContext","io","gameView"],"mappings":"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","file":"./client/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap d1e0d92fa0447e3aaa3f","import Player from './player';\n\nclass Game {\n  constructor(context, staticAssets) {\n    this.context = context;\n    this.players = {};\n    this.staticAssets = staticAssets;\n\n    this.draw = this.draw.bind(this);\n  }\n\n  draw(offset, players, loading = false) {\n    this.context.clearRect(0, 0, Game.CANVAS_X, Game.CANVAS_Y);\n    this.context.fillStyle = Game.BG_COLOR;\n    this.context.fillRect(0, 0, Game.CANVAS_X, Game.CANVAS_Y);\n\n    if (loading) {\n      this.drawLoadingScreen();\n    } else {\n      this.drawBoard(offset);\n      this.drawPlayers(offset, players);\n    }\n  }\n\n  drawPlayers(offset, players) {\n    Object.keys(players).forEach(playerId => {\n      const player = players[playerId];\n\n      if (!this.outOfCanvasBounds(player, offset)) {\n        const currentPlayer = playerId === this.currentPlayerId;\n        this.drawOrInitializePlayer(offset, player, playerId, currentPlayer);\n      }\n    });\n  }\n\n  drawOrInitializePlayer(offset, player, playerId, currentPlayer) {\n    if (this.players[playerId]) {\n      this.players[playerId].draw(offset, player);\n    } else {\n      this.players[playerId] = new Player(\n        this.context,\n        player,\n        this.staticAssets,\n        currentPlayer\n      );\n    }\n  }\n\n  drawLoadingScreen() {\n    this.context.fillStyle = Game.BORDER_COLOR;\n    this.context.font = \"bold 50px Arial\";\n\n    this.context.fillText(\n      \"Loading...\",\n      Game.CANVAS_X / 2 - 110,\n      Game.CANVAS_Y / 2\n    );\n  }\n\n  drawBoard(offset) {\n    this.context.save();\n    this.context.translate(offset[0], offset[1]);\n\n    this.context.strokeStyle = Game.BORDER_COLOR;\n    this.context.lineWidth = Game.BORDER_WIDTH;\n    this.context.rect(0, 0, Game.DIM_X, Game.DIM_Y);\n    this.context.stroke();\n\n    this.context.fillStyle = Game.GRASS_COLOR;\n    this.context.fill();\n\n    const pattern = this.context.createPattern(\n      this.staticAssets.images[\"assets/img/grass.png\"],\n      \"repeat\"\n    );\n    this.context.fillStyle = pattern;\n    this.context.fill();\n\n    this.context.restore();\n  }\n\n  outOfCanvasBounds(player, offset) {\n    const pos = player.pos,\n    radius = player.radius;\n\n    return (pos[0] + offset[0] + radius < 0 ||\n      pos[0] + offset[0] - radius > Game.CANVAS_X ||\n      pos[1] + offset[1] + radius < 0 ||\n      pos[1] + offset[1] - radius > Game.CANVAS_Y\n    );\n  }\n\n  drawCountdown(time) {\n    this.context.beginPath();\n    this.context.rect(20, 20, 100, 40);\n    this.context.fillStyle = 'white';\n    this.context.fill();\n    this.context.lineWidth = Game.COUNTDOWN_WIDTH;\n    this.context.strokeStyle = Game.BORDER_COLOR;\n\n    this.context.fillStyle = Game.BORDER_COLOR;\n    this.context.font = \"bold 24px Arial\";\n\n    this.context.fillText(Math.floor(time) / 1000, 25, 45);\n  }\n\n  setCurrentPlayerId(playerId) {\n    this.currentPlayerId = playerId;\n  }\n}\n\nGame.BG_COLOR = \"#8bf1ff\";\nGame.BORDER_WIDTH = 15;\nGame.COUNTDOWN_WIDTH = 5;\nGame.BORDER_COLOR = \"#001f95\";\nGame.GRASS_COLOR = \"#88ddb1\";\nGame.DIM_X = 2000;\nGame.DIM_Y = 2000;\nGame.CANVAS_X = 800;\nGame.CANVAS_Y = 500;\n\nexport default Game;\n\n\n\n// WEBPACK FOOTER //\n// ./client/game.js","import Util from '../server/util';\nimport Game from './game';\nimport StaticAssets from './static_assets';\n\nclass GameView {\n  constructor(context, socket) {\n    this.context = context;\n    this.staticAssets = new StaticAssets(this.receiveLoadedImages.bind(this));\n    this.game = new Game(this.context, this.staticAssets);\n    this.socket = socket;\n    this.currentPlayerId = null;\n    this.playStatus = \"startScreen\";\n\n    this.setEventHandlers();\n  }\n\n  start() {\n    this.bindKeyHandlers();\n    this.currentPlayerId = this.currentPlayerId || Util.randomId();\n    this.game.setCurrentPlayerId(this.currentPlayerId);\n    this.activateScreen(\"playGame\");\n    this.activateDireHitTime = null;\n    this.playStatus = \"playing\";\n    this.initialData = false;\n\n    const pokemonId = this.selectedPokemonImage ?\n      this.selectedPokemonImage.data : null;\n\n    this.socket.emit(\"new player\", {\n      name: this.name,\n      pokemonId: pokemonId,\n      id: this.currentPlayerId\n    });\n  }\n\n  receiveLoadedImages() {\n    this.imgLoaded = true;\n  }\n\n  setEventHandlers() {\n    this.addStartClickListener();\n    this.addSelectPokemonClickListener();\n    this.addInstructionsClickListener();\n    this.addRestartClickListener();\n\n    this.socket.on(\"draw game\", this.drawGame.bind(this));\n    this.socket.on(\"activate dire hit\", this.startCountdown.bind(this));\n    this.socket.on(\"inactive player\", this.handleInactivity.bind(this));\n  }\n\n  startCountdown(data) {\n    if (data.id === this.currentPlayerId) {\n      this.activateDireHitTime = Date.now() + data.lag;\n    }\n  }\n\n  drawGame(data) {\n    if (this.playStatus === \"restart\") return;\n\n    if (this.playStatus === \"playing\") {\n      if (this.resetIfLost(data)) return;\n      this.powerCurrentPlayer();\n\n      if (this.initialData && this.imgLoaded) {\n        const offset = this.getCurrentPlayerOffset(data);\n        this.game.draw(offset, data);\n        this.handleDireHitCountdown();\n      } else {\n        this.game.draw(null, data, true);\n        this.checkInitialData(data);\n      }\n    }\n  }\n\n  handleDireHitCountdown() {\n    if (this.activateDireHitTime) {\n      const currentTime = Date.now();\n\n      if (this.activateDireHitTime < currentTime) {\n        this.activateDireHitTime = null;\n      } else {\n        this.game.drawCountdown(this.activateDireHitTime - currentTime);\n      }\n    }\n  }\n\n  checkInitialData(data) {\n    if (data[this.currentPlayerId]) {\n      this.initialData = true;\n    }\n  }\n\n  resetIfLost(data) {\n    if (!data[this.currentPlayerId] && this.initialData) {\n      this.activateScreen(\"restart\");\n      this.playStatus = \"restart\";\n      return true;\n    }\n\n    return false;\n  }\n\n  addStartClickListener() {\n    const startButton = document.getElementById(\"start-button\");\n\n    startButton.onclick = () => {\n      this.start();\n    };\n  }\n\n  addSelectPokemonClickListener() {\n    const selectPokemonButton = document.getElementById(\"select-pokemon-button\");\n\n    selectPokemonButton.onclick = () => {\n      this.name = document.getElementById(\"name-input\").value;\n      if (this.name.length > 25) this.name = \"\";\n      this.populateSelectList();\n      this.activateScreen(\"selectPokemon\");\n    };\n\n    const selectPokemon = document.getElementById(\"select-pokemon\");\n    selectPokemon.onclick = () => {\n      this.activateScreen(\"selectPokemon\");\n    };\n\n    const selectPokemonBody = document.getElementById(\"select-pokemon-body\");\n    selectPokemonBody.onclick = e => {\n      e.stopPropagation();\n    };\n  }\n\n  populateSelectList() {\n    const pokemonList = document.getElementById(\"pokemon-list\");\n\n    if (this.imgLoaded) {\n      this.addPokemonToSelectList(pokemonList);\n    } else {\n      setTimeout(this.populateSelectList.bind(this), 100);\n    }\n  }\n\n  addPokemonToSelectList(pokemonList) {\n    const selectListLoading = document.getElementById(\"select-loading\");\n    selectListLoading.className = \"hidden\";\n\n    if (!pokemonList.firstChild) {\n      Util.POKEMON_IDS.forEach(pokemonId => {\n        const pokemonListItem = document.createElement(\"li\");\n        const pokemonUrl = `assets/img/pokemon-${pokemonId}.png`;\n        const pokemonImage = this.staticAssets.images[pokemonUrl];\n        pokemonImage.className = \"select-pokemon-img\";\n        pokemonImage.data = pokemonId;\n\n        pokemonListItem.appendChild(pokemonImage);\n        this.bindPokemonSelectClickListener(pokemonImage);\n\n        pokemonList.appendChild(pokemonListItem);\n      });\n    }\n  }\n\n  bindPokemonSelectClickListener(pokemonImage) {\n    pokemonImage.onclick = () => {\n      pokemonImage.classList.toggle(\"select-pokemon-img-focus\");\n\n      if (this.selectedPokemonImage) {\n        this.selectedPokemonImage.classList.toggle(\"select-pokemon-img-focus\");\n      }\n\n      this.selectedPokemonImage = pokemonImage;\n    };\n  }\n\n  addRestartClickListener() {\n    const restartButtons = document.getElementsByClassName(\"restart-button\");\n\n    for (let i = 0; i < restartButtons.length; i++) {\n      let restartButton = restartButtons[i];\n\n      restartButton.onclick = () => {\n        this.start();\n      };\n    }\n  }\n\n  activateScreen(type) {\n    const canvas = document.getElementById(\"game-canvas\");\n    const startScreen = document.getElementById(\"start-screen\");\n    const restartScreen = document.getElementById(\"restart-screen\");\n    const instructions = document.getElementById(\"instructions\");\n    const inactiveScreen = document.getElementById(\"inactive-screen\");\n    const selectPokemonScreen = document.getElementById(\"select-pokemon\");\n\n    canvas.className = type === \"playGame\" ? \"\" : \"hidden\";\n    startScreen.className = type === \"start\" ||\n      type === \"selectPokemon\" ||\n      type === \"instructions\" ? \"\" : \"hidden\";\n    restartScreen.className = type === \"restart\" ? \"\" : \"hidden\";\n    inactiveScreen.className = type === \"inactive\" ? \"\" : \"hidden\";\n\n    if (type === \"instructions\") {\n      instructions.classList.toggle(\"hidden\");\n    } else {\n      instructions.className = \"hidden\";\n    }\n\n    if (type === \"selectPokemon\") {\n      selectPokemonScreen.classList.toggle(\"hidden\");\n    } else {\n      selectPokemonScreen.className = \"hidden\";\n    }\n  }\n\n  addInstructionsClickListener() {\n    const instructionsButton = document.getElementById(\"instructions-button\");\n    instructionsButton.onclick = () => {\n      this.activateScreen(\"instructions\");\n    };\n\n    const instructions = document.getElementById(\"instructions\");\n    instructions.onclick = () => {\n      this.activateScreen(\"instructions\");\n    };\n\n    const instructionsBody = document.getElementById(\"instructions-body\");\n    instructionsBody.onclick = e => {\n      e.stopPropagation();\n    };\n  }\n\n  bindKeyHandlers() {\n    Object.keys(GameView.MOVES).forEach(key => {\n      let move = GameView.MOVES[key];\n\n      document.addEventListener('keydown', e => {\n        if (e.key === key) {\n          e.preventDefault();\n          GameView.KEYS[GameView.MOVES[key]] = true;\n        }\n      }, false);\n\n      document.addEventListener('keyup', e => {\n        if (e.key === key) {\n          e.preventDefault();\n          GameView.KEYS[GameView.MOVES[key]] = false;\n        }\n      }, false);\n    });\n\n    document.addEventListener('keydown', e => {\n      if (e.key === \" \") {\n        e.preventDefault();\n        this.activateDireHit();\n      }\n    });\n  }\n\n  getCurrentPlayerOffset(data) {\n    return [\n      Game.CANVAS_X / 2 - data[this.currentPlayerId].pos[0],\n      Game.CANVAS_Y / 2 - data[this.currentPlayerId].pos[1]\n    ];\n  }\n\n  powerCurrentPlayer() {\n    const impulse = 0.5;\n    const allImpulses = [];\n\n    if (GameView.KEYS.up) allImpulses.push([0, -impulse]);\n    if (GameView.KEYS.down) allImpulses.push([0, impulse]);\n    if (GameView.KEYS.left) allImpulses.push([-impulse, 0]);\n    if (GameView.KEYS.right) allImpulses.push([impulse, 0]);\n\n    this.socket.emit(\n      \"move player\",\n      { id: this.currentPlayerId, impulses: allImpulses }\n    );\n  }\n\n  activateDireHit() {\n    this.socket.emit(\"dire hit player\", { id: this.currentPlayerId });\n  }\n\n  handleInactivity(data) {\n    if (data.id === this.currentPlayerId) {\n      this.playStatus === \"restart\";\n      this.activateScreen(\"inactive\");\n    }\n  }\n}\n\nGameView.MOVES = {\n  \"ArrowLeft\": \"left\",\n  \"ArrowUp\": \"up\",\n  \"ArrowRight\": \"right\",\n  \"ArrowDown\": \"down\"\n};\n\nGameView.KEYS = {\n  up: false,\n  down: false,\n  left: false,\n  right: false\n};\n\nexport default GameView;\n\n\n\n// WEBPACK FOOTER //\n// ./client/game_view.js","class Player {\n  constructor(context, data, staticAssets, currentPlayer = false) {\n    this.context = context;\n    this.staticAssets = staticAssets;\n    this.currentPlayer = currentPlayer;\n\n    this.imgLoaded = false;\n    this.fetchImage(data.img);\n  }\n\n  fetchImage(url) {\n    if (this.currentPlayer && url === \"assets/img/egg.png\") {\n      url = \"assets/img/current_player_egg.png\";\n    }\n\n    if (this.staticAssets.images[url]) {\n      this.img = this.staticAssets.images[url];\n      this.imgLoaded = true;\n    } else {\n      this.loadImage(url);\n    }\n  }\n\n  loadImage(url) {\n    this.img = new Image();\n\n    this.img.onload = () => {\n      this.imgLoaded = true;\n      this.staticAssets.addLoadedImage(url, this.img);\n    };\n\n    this.img.src = url;\n  }\n\n  resetImage(url) {\n    this.imgLoaded = false;\n    this.fetchImage(url);\n  }\n\n  checkNewImage(url) {\n    if (!this.img.src.includes(url)) {\n      this.resetImage(url);\n    }\n  }\n\n  draw(offset, data) {\n    this.checkNewImage(data.img);\n    this.drawName(offset, data);\n    this.drawOutline(offset, data);\n\n    this.drawImage(offset, data);\n  }\n\n  drawName(offset, data) {\n    this.context.fillStyle = Player.PLAYER_INFO_COLOR;\n    this.context.font = \"bold 14px Arial\";\n\n    this.context.fillText(\n      data.name,\n      data.pos[0] + offset[0] + data.radius + 3,\n      data.pos[1] + offset[1]\n    );\n  }\n\n  drawImage(offset, data) {\n    const img = this.imgLoaded ?\n      this.img : this.staticAssets.images[\"assets/img/evolve.png\"];\n\n    this.context.drawImage(\n      img,\n      data.pos[0] + offset[0] - data.radius,\n      data.pos[1] + offset[1] - data.radius,\n      data.radius * 2,\n      data.radius * 2\n    );\n  }\n\n  drawOutline(offset, data) {\n    if (data.direHit) this.drawDireHit(offset, data);\n\n    this.context.beginPath();\n    this.context.arc(\n      data.pos[0] + offset[0],\n      data.pos[1] + offset[1],\n      data.radius,\n      0,\n      2 * Math.PI\n    );\n\n    this.context.lineWidth = Player.NORMAL_OUTLINE_WIDTH;\n    this.context.strokeStyle = Player.PLAYER_INFO_COLOR;\n    this.context.stroke();\n\n    if (data.activatingDireHit || data.direHit) {\n      this.drawDireHitOutline(offset, data);\n    }\n  }\n\n  drawDireHitOutline(offset, data) {\n    this.context.beginPath();\n    this.context.arc(\n      data.pos[0] + offset[0],\n      data.pos[1] + offset[1],\n      data.radius + Player.NORMAL_OUTLINE_WIDTH * 0.75,\n      0,\n      2 * Math.PI\n    );\n\n    this.context.lineWidth = Player.NORMAL_OUTLINE_WIDTH * 0.75;\n    this.context.strokeStyle = Player.DIRE_HIT_COLOR;\n    this.context.stroke();\n  }\n\n  drawDireHit(offset, data) {\n    this.context.beginPath();\n    this.context.fillStyle = Player.SPIKES_COLOR;\n    this.context.fillRect(\n      data.pos[0] + offset[0] - data.radius - Player.DIRE_HIT_OUTLINE_WIDTH / 2 + 2,\n      data.pos[1] + offset[1] - data.radius - Player.DIRE_HIT_OUTLINE_WIDTH / 2 + 2,\n      data.radius * 2 + Player.DIRE_HIT_OUTLINE_WIDTH - 4,\n      data.radius * 2 + Player.DIRE_HIT_OUTLINE_WIDTH - 4\n    );\n\n    this.drawRotatedSquare(offset, data);\n  }\n\n  drawRotatedSquare(offset, data) {\n    this.context.save();\n\n    this.context.translate(\n      data.pos[0] + offset[0],\n      data.pos[1] + offset[1]\n    );\n\n    this.context.rotate(Math.PI / 4);\n    this.context.fillStyle = Player.SPIKES_COLOR;\n    this.context.fillRect(\n      -(data.radius + Player.DIRE_HIT_OUTLINE_WIDTH / 2) + 2,\n      -(data.radius + Player.DIRE_HIT_OUTLINE_WIDTH / 2) + 2,\n      data.radius * 2 + Player.DIRE_HIT_OUTLINE_WIDTH - 4,\n      data.radius * 2 + Player.DIRE_HIT_OUTLINE_WIDTH - 4\n    );\n\n    this.context.restore();\n  }\n}\n\nPlayer.PLAYER_INFO_COLOR = \"#000\";\nPlayer.DIRE_HIT_COLOR = \"#ff3d00\";\nPlayer.SPIKES_COLOR = \"#fffc00\";\nPlayer.NORMAL_OUTLINE_WIDTH = 5;\nPlayer.DIRE_HIT_OUTLINE_WIDTH = 10;\n\nexport default Player;\n\n\n\n// WEBPACK FOOTER //\n// ./client/player.js","import Util from '../server/util.js';\n\nclass StaticAssets {\n  constructor(notifyCallback) {\n    this.loadedCount = 0;\n    this.images = {};\n    this.notifyCallback = notifyCallback;\n\n    this.loadImages();\n  }\n\n  addImage(url) {\n    this.images[url] = new Image();\n\n    this.images[url].onload = () => {\n      this.loadedCount++;\n\n      if (this.checkAllLoaded()) {\n        this.notifyCallback();\n      }\n    };\n\n    this.images[url].src = url;\n  }\n\n  addLoadedImage(url, loadedImage) {\n    this.images[url] = loadedImage;\n  }\n\n  loadImages() {\n    StaticAssets.IMAGE_URLS.forEach(imageUrl => {\n      this.addImage(imageUrl);\n    });\n  }\n\n  checkAllLoaded() {\n    return this.loadedCount === Object.keys(this.images).length;\n  }\n}\n\nStaticAssets.IMAGE_URLS = Util.POKEMON_IDS.map(pokemonId => (\n  `assets/img/pokemon-${pokemonId}.png`\n)).concat([\n  \"assets/img/egg.png\",\n  \"assets/img/current_player_egg.png\",\n  \"assets/img/grass.png\",\n  \"assets/img/evolve.png\"\n]);\n\nexport default StaticAssets;\n\n\n\n// WEBPACK FOOTER //\n// ./client/static_assets.js","const POKEMON_IDS = [\n  1, 4, 7, 24, 29, 34, 92, 112, 147, 152, 155, 158, 220, 304, 371\n];\n\nconst Util = {\n  dist(pos1, pos2) {\n    return Math.sqrt(\n      Math.pow(pos1[0] - pos2[0], 2) + Math.pow(pos1[1] - pos2[1], 2)\n    );\n  },\n\n  randomRadius() {\n    return Math.floor(Math.random() * (20 - 5)) + 5;\n  },\n\n  randomVelocity() {\n    return [\n      this.randomVelocityPiece(),\n      this.randomVelocityPiece()\n    ];\n  },\n\n  randomVelocityPiece() {\n    return Math.floor(Math.random() * (1.2 + 1.2)) - 1.2;\n  },\n\n  randomPokemonId() {\n    return POKEMON_IDS[Math.floor(Math.random() * POKEMON_IDS.length)];\n  },\n\n  randomPlayerName() {\n    return POKEMON_CHARACTER_NAMES[Math.floor(Math.random() * POKEMON_CHARACTER_NAMES.length)];\n  },\n\n  randomId() {\n    let text = \"\";\n    const possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n\n    for (let i = 0; i < 5; i++) {\n      text += possible.charAt(Math.floor(Math.random() * possible.length));\n    }\n\n    return text;\n  },\n\n  DEFAULT_RADIUS: 15,\n\n  POKEMON_IDS: POKEMON_IDS\n};\n\nconst POKEMON_CHARACTER_NAMES = [\n  \"Misty\",\n  \"Lass\",\n  \"Beauty\",\n  \"Serena\",\n  \"Bonnie\",\n  \"Iris\",\n  \"Jessie\",\n  \"Lillie\",\n  \"May\",\n  \"Dawn\",\n  \"Moon\",\n  \"Mallow\",\n  \"Sakura\",\n  \"Shauna\",\n  \"Candela\",\n  \"Officer Jenny\",\n  \"Aria\",\n  \"Olivia\",\n  \"Lusamine\",\n  \"Lana\",\n  \"Professor Ivy\",\n  \"Mom\",\n  \"Sabrina\",\n  \"Viola\",\n  \"Daisy\",\n  \"Bianca\",\n  \"Sumomo\",\n  \"Blanche\",\n  \"Agatha\",\n  \"Georgia\",\n  \"Grace\",\n  \"Malva\",\n  \"Karen\"\n];\n\nmodule.exports = Util;\n\n\n\n// WEBPACK FOOTER //\n// ./server/util.js","import GameView from './game_view';\nimport Game from './game';\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  const canvas = document.getElementById(\"game-canvas\");\n  canvas.width = Game.CANVAS_X;\n  canvas.height = Game.CANVAS_Y;\n\n  const context = canvas.getContext(\"2d\");\n  const socket = io();\n\n  const gameView = new GameView(context, socket);\n});\n\n\n\n// WEBPACK FOOTER //\n// ./client/pokemania.js"],"sourceRoot":""}