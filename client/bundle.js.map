{"version":3,"sources":["webpack:///webpack/bootstrap 9a5f651dcbb63e31633f","webpack:///./client/game.js","webpack:///./client/game_view.js","webpack:///./client/player.js","webpack:///./client/static_assets.js","webpack:///./server/util.js","webpack:///./client/pokemania.js"],"names":["Game","context","staticAssets","players","draw","bind","offset","loading","clearRect","CANVAS_X","CANVAS_Y","fillStyle","BG_COLOR","fillRect","drawLoadingScreen","drawBoard","drawPlayers","Object","keys","forEach","player","playerId","outOfCanvasBounds","currentPlayer","currentPlayerId","drawOrInitializePlayer","BORDER_COLOR","font","fillText","save","translate","strokeStyle","lineWidth","BORDER_WIDTH","rect","DIM_X","DIM_Y","stroke","GRASS_COLOR","fill","pattern","createPattern","images","restore","pos","radius","time","beginPath","COUNTDOWN_WIDTH","Math","floor","GameView","socket","receiveLoadedImages","game","playStatus","setEventHandlers","bindKeyHandlers","randomId","setCurrentPlayerId","activateScreen","activateDireHitTime","initialData","pokemonId","selectedPokemonImage","parseInt","getAttribute","emit","name","id","imgLoaded","addStartClickListener","addSelectPokemonClickListener","addInstructionsClickListener","addRestartClickListener","on","drawGame","startCountdown","handleInactivity","data","Date","now","lag","resetIfLost","powerCurrentPlayer","getCurrentPlayerOffset","handleDireHitCountdown","checkInitialData","currentTime","drawCountdown","startButton","document","getElementById","onclick","start","selectPokemonButton","value","length","addPokemonToSelectList","selectPokemon","selectPokemonBody","e","stopPropagation","pokemonList","firstChild","POKEMON_IDS","pokemonListItem","createElement","pokemonImage","pokemonUrl","src","addLoadedImage","className","appendChild","bindPokemonSelectClickListener","classList","toggle","restartButtons","getElementsByClassName","i","restartButton","type","canvas","startScreen","restartScreen","instructions","inactiveScreen","selectPokemonScreen","instructionsButton","instructionsBody","MOVES","move","key","addEventListener","preventDefault","KEYS","activateDireHit","impulse","allImpulses","up","push","down","left","right","impulses","Player","fetchImage","img","url","loadImage","Image","onload","includes","resetImage","checkNewImage","drawName","drawOutline","drawImage","PLAYER_INFO_COLOR","direHit","drawDireHit","arc","PI","NORMAL_OUTLINE_WIDTH","activatingDireHit","drawDireHitOutline","DIRE_HIT_COLOR","SPIKES_COLOR","DIRE_HIT_OUTLINE_WIDTH","drawRotatedSquare","rotate","StaticAssets","notifyCallback","loadedCount","loadImages","checkAllLoaded","loadedImage","IMAGE_URLS","addImage","imageUrl","Util","dist","pos1","pos2","sqrt","pow","randomRadius","random","randomVelocity","randomVelocityPiece","randomPokemonId","randomPlayerName","POKEMON_CHARACTER_NAMES","text","possible","charAt","DEFAULT_RADIUS","module","exports","width","height","getContext","io","gameView"],"mappings":"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","file":"./client/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 9a5f651dcbb63e31633f","import Player from './player';\n\nclass Game {\n  constructor(context, staticAssets) {\n    this.context = context;\n    this.players = {};\n    this.staticAssets = staticAssets;\n\n    this.draw = this.draw.bind(this);\n  }\n\n  draw(offset, players, loading = false) {\n    this.context.clearRect(0, 0, Game.CANVAS_X, Game.CANVAS_Y);\n    this.context.fillStyle = Game.BG_COLOR;\n    this.context.fillRect(0, 0, Game.CANVAS_X, Game.CANVAS_Y);\n\n    if (loading) {\n      this.drawLoadingScreen();\n    } else {\n      this.drawBoard(offset);\n      this.drawPlayers(offset, players);\n    }\n  }\n\n  drawPlayers(offset, players) {\n    Object.keys(players).forEach(playerId => {\n      const player = players[playerId];\n\n      if (!this.outOfCanvasBounds(player, offset)) {\n        const currentPlayer = playerId === this.currentPlayerId;\n        this.drawOrInitializePlayer(offset, player, playerId, currentPlayer);\n      }\n    });\n  }\n\n  drawOrInitializePlayer(offset, player, playerId, currentPlayer) {\n    if (this.players[playerId]) {\n      this.players[playerId].draw(offset, player);\n    } else {\n      this.players[playerId] = new Player(\n        this.context,\n        player,\n        this.staticAssets,\n        currentPlayer\n      );\n    }\n  }\n\n  drawLoadingScreen() {\n    this.context.fillStyle = Game.BORDER_COLOR;\n    this.context.font = \"bold 50px Arial\";\n\n    this.context.fillText(\n      \"Loading...\",\n      Game.CANVAS_X / 2 - 110,\n      Game.CANVAS_Y / 2\n    );\n  }\n\n  drawBoard(offset) {\n    this.context.save();\n    this.context.translate(offset[0], offset[1]);\n\n    this.context.strokeStyle = Game.BORDER_COLOR;\n    this.context.lineWidth = Game.BORDER_WIDTH;\n    this.context.rect(0, 0, Game.DIM_X, Game.DIM_Y);\n    this.context.stroke();\n\n    this.context.fillStyle = Game.GRASS_COLOR;\n    this.context.fill();\n\n    const pattern = this.context.createPattern(\n      this.staticAssets.images[\"assets/img/grass.png\"],\n      \"repeat\"\n    );\n    this.context.fillStyle = pattern;\n    this.context.fill();\n\n    this.context.restore();\n  }\n\n  outOfCanvasBounds(player, offset) {\n    const pos = player.pos,\n    radius = player.radius;\n\n    return (pos[0] + offset[0] + radius < 0 ||\n      pos[0] + offset[0] - radius > Game.CANVAS_X ||\n      pos[1] + offset[1] + radius < 0 ||\n      pos[1] + offset[1] - radius > Game.CANVAS_Y\n    );\n  }\n\n  drawCountdown(time) {\n    this.context.beginPath();\n    this.context.rect(20, 20, 100, 40);\n    this.context.fillStyle = 'white';\n    this.context.fill();\n    this.context.lineWidth = Game.COUNTDOWN_WIDTH;\n    this.context.strokeStyle = Game.BORDER_COLOR;\n\n    this.context.fillStyle = Game.BORDER_COLOR;\n    this.context.font = \"bold 24px Arial\";\n\n    this.context.fillText(Math.floor(time) / 1000, 25, 45);\n  }\n\n  setCurrentPlayerId(playerId) {\n    this.currentPlayerId = playerId;\n  }\n}\n\nGame.BG_COLOR = \"#8bf1ff\";\nGame.BORDER_WIDTH = 15;\nGame.COUNTDOWN_WIDTH = 5;\nGame.BORDER_COLOR = \"#001f95\";\nGame.GRASS_COLOR = \"#88ddb1\";\nGame.DIM_X = 2000;\nGame.DIM_Y = 2000;\nGame.CANVAS_X = 800;\nGame.CANVAS_Y = 500;\n\nexport default Game;\n\n\n\n// WEBPACK FOOTER //\n// ./client/game.js","import Util from '../server/util';\nimport Game from './game';\nimport StaticAssets from './static_assets';\n\nclass GameView {\n  constructor(context, socket) {\n    this.context = context;\n    this.staticAssets = new StaticAssets(this.receiveLoadedImages.bind(this));\n    this.game = new Game(this.context, this.staticAssets);\n    this.socket = socket;\n    this.currentPlayerId = null;\n    this.playStatus = \"startScreen\";\n\n    this.setEventHandlers();\n  }\n\n  start() {\n    this.bindKeyHandlers();\n    this.currentPlayerId = this.currentPlayerId || Util.randomId();\n    this.game.setCurrentPlayerId(this.currentPlayerId);\n    this.activateScreen(\"playGame\");\n    this.activateDireHitTime = null;\n    this.playStatus = \"playing\";\n    this.initialData = false;\n\n    const pokemonId = this.selectedPokemonImage ?\n      parseInt(this.selectedPokemonImage.getAttribute(\"data\")) : null;\n\n    this.socket.emit(\"new player\", {\n      name: this.name,\n      pokemonId: pokemonId,\n      id: this.currentPlayerId\n    });\n  }\n\n  receiveLoadedImages() {\n    this.imgLoaded = true;\n  }\n\n  setEventHandlers() {\n    this.addStartClickListener();\n    this.addSelectPokemonClickListener();\n    this.addInstructionsClickListener();\n    this.addRestartClickListener();\n\n    this.socket.on(\"draw game\", this.drawGame.bind(this));\n    this.socket.on(\"activate dire hit\", this.startCountdown.bind(this));\n    this.socket.on(\"inactive player\", this.handleInactivity.bind(this));\n  }\n\n  startCountdown(data) {\n    if (data.id === this.currentPlayerId) {\n      this.activateDireHitTime = Date.now() + data.lag;\n    }\n  }\n\n  drawGame(data) {\n    if (this.playStatus === \"restart\") return;\n\n    if (this.playStatus === \"playing\") {\n      if (this.resetIfLost(data)) return;\n      this.powerCurrentPlayer();\n\n      if (this.initialData && this.imgLoaded) {\n        const offset = this.getCurrentPlayerOffset(data);\n        this.game.draw(offset, data);\n        this.handleDireHitCountdown();\n      } else {\n        this.game.draw(null, data, true);\n        this.checkInitialData(data);\n      }\n    }\n  }\n\n  handleDireHitCountdown() {\n    if (this.activateDireHitTime) {\n      const currentTime = Date.now();\n\n      if (this.activateDireHitTime < currentTime) {\n        this.activateDireHitTime = null;\n      } else {\n        this.game.drawCountdown(this.activateDireHitTime - currentTime);\n      }\n    }\n  }\n\n  checkInitialData(data) {\n    if (data[this.currentPlayerId]) {\n      this.initialData = true;\n    }\n  }\n\n  resetIfLost(data) {\n    if (!data[this.currentPlayerId] && this.initialData) {\n      this.activateScreen(\"restart\");\n      this.playStatus = \"restart\";\n      return true;\n    }\n\n    return false;\n  }\n\n  addStartClickListener() {\n    const startButton = document.getElementById(\"start-button\");\n\n    startButton.onclick = () => {\n      this.start();\n    };\n  }\n\n  addSelectPokemonClickListener() {\n    const selectPokemonButton = document.getElementById(\"select-pokemon-button\");\n\n    selectPokemonButton.onclick = () => {\n      this.name = document.getElementById(\"name-input\").value;\n      if (this.name.length > 25) this.name = \"\";\n      this.addPokemonToSelectList();\n      this.activateScreen(\"selectPokemon\");\n    };\n\n    const selectPokemon = document.getElementById(\"select-pokemon\");\n    selectPokemon.onclick = () => {\n      this.activateScreen(\"selectPokemon\");\n    };\n\n    const selectPokemonBody = document.getElementById(\"select-pokemon-body\");\n    selectPokemonBody.onclick = e => {\n      e.stopPropagation();\n    };\n  }\n\n  addPokemonToSelectList() {\n    const pokemonList = document.getElementById(\"pokemon-list\");\n\n    if (!pokemonList.firstChild) {\n      Util.POKEMON_IDS.forEach(pokemonId => {\n        const pokemonListItem = document.createElement(\"li\");\n        const pokemonImage = document.createElement(\"img\");\n        const pokemonUrl = `assets/img/pokemon-${pokemonId}.png`;\n        pokemonImage.src = pokemonUrl;\n\n        this.staticAssets.addLoadedImage(pokemonUrl, pokemonImage);\n        pokemonImage.className = \"select-pokemon-img\";\n        pokemonImage.data = pokemonId;\n        pokemonListItem.appendChild(pokemonImage);\n        this.bindPokemonSelectClickListener(pokemonImage);\n\n        pokemonList.appendChild(pokemonListItem);\n      });\n    }\n  }\n\n  bindPokemonSelectClickListener(pokemonImage) {\n    pokemonImage.onclick = () => {\n      pokemonImage.classList.toggle(\"select-pokemon-img-focus\");\n\n      if (this.selectedPokemonImage) {\n        this.selectedPokemonImage.classList.toggle(\"select-pokemon-img-focus\");\n      }\n\n      this.selectedPokemonImage = pokemonImage;\n    };\n  }\n\n  addRestartClickListener() {\n    const restartButtons = document.getElementsByClassName(\"restart-button\");\n\n    for (let i = 0; i < restartButtons.length; i++) {\n      let restartButton = restartButtons[i];\n\n      restartButton.onclick = () => {\n        this.start();\n      };\n    }\n  }\n\n  activateScreen(type) {\n    const canvas = document.getElementById(\"game-canvas\");\n    const startScreen = document.getElementById(\"start-screen\");\n    const restartScreen = document.getElementById(\"restart-screen\");\n    const instructions = document.getElementById(\"instructions\");\n    const inactiveScreen = document.getElementById(\"inactive-screen\");\n    const selectPokemonScreen = document.getElementById(\"select-pokemon\");\n\n    canvas.className = type === \"playGame\" ? \"\" : \"hidden\";\n    startScreen.className = type === \"start\" ||\n      type === \"selectPokemon\" ||\n      type === \"instructions\" ? \"\" : \"hidden\";\n    restartScreen.className = type === \"restart\" ? \"\" : \"hidden\";\n    inactiveScreen.className = type === \"inactive\" ? \"\" : \"hidden\";\n\n    if (type === \"instructions\") {\n      instructions.classList.toggle(\"hidden\");\n    } else {\n      instructions.className = \"hidden\";\n    }\n\n    if (type === \"selectPokemon\") {\n      selectPokemonScreen.classList.toggle(\"hidden\");\n    } else {\n      selectPokemonScreen.className = \"hidden\";\n    }\n  }\n\n  addInstructionsClickListener() {\n    const instructionsButton = document.getElementById(\"instructions-button\");\n    instructionsButton.onclick = () => {\n      this.activateScreen(\"instructions\");\n    };\n\n    const instructions = document.getElementById(\"instructions\");\n    instructions.onclick = () => {\n      this.activateScreen(\"instructions\");\n    };\n\n    const instructionsBody = document.getElementById(\"instructions-body\");\n    instructionsBody.onclick = e => {\n      e.stopPropagation();\n    };\n  }\n\n  bindKeyHandlers() {\n    Object.keys(GameView.MOVES).forEach(key => {\n      let move = GameView.MOVES[key];\n\n      document.addEventListener('keydown', e => {\n        if (e.key === key) {\n          e.preventDefault();\n          GameView.KEYS[GameView.MOVES[key]] = true;\n        }\n      }, false);\n\n      document.addEventListener('keyup', e => {\n        if (e.key === key) {\n          e.preventDefault();\n          GameView.KEYS[GameView.MOVES[key]] = false;\n        }\n      }, false);\n    });\n\n    document.addEventListener('keydown', e => {\n      if (e.key === \" \") {\n        e.preventDefault();\n        this.activateDireHit();\n      }\n    });\n  }\n\n  getCurrentPlayerOffset(data) {\n    return [\n      Game.CANVAS_X / 2 - data[this.currentPlayerId].pos[0],\n      Game.CANVAS_Y / 2 - data[this.currentPlayerId].pos[1]\n    ];\n  }\n\n  powerCurrentPlayer() {\n    const impulse = 0.5;\n    const allImpulses = [];\n\n    if (GameView.KEYS.up) allImpulses.push([0, -impulse]);\n    if (GameView.KEYS.down) allImpulses.push([0, impulse]);\n    if (GameView.KEYS.left) allImpulses.push([-impulse, 0]);\n    if (GameView.KEYS.right) allImpulses.push([impulse, 0]);\n\n    this.socket.emit(\n      \"move player\",\n      { id: this.currentPlayerId, impulses: allImpulses }\n    );\n  }\n\n  activateDireHit() {\n    this.socket.emit(\"dire hit player\", { id: this.currentPlayerId });\n  }\n\n  handleInactivity(data) {\n    if (data.id === this.currentPlayerId) {\n      this.currentPlayerId = null;\n      this.playStatus === \"restart\";\n      this.activateScreen(\"inactive\");\n    }\n  }\n}\n\nGameView.MOVES = {\n  \"ArrowLeft\": \"left\",\n  \"ArrowUp\": \"up\",\n  \"ArrowRight\": \"right\",\n  \"ArrowDown\": \"down\"\n};\n\nGameView.KEYS = {\n  up: false,\n  down: false,\n  left: false,\n  right: false\n};\n\nexport default GameView;\n\n\n\n// WEBPACK FOOTER //\n// ./client/game_view.js","class Player {\n  constructor(context, data, staticAssets, currentPlayer = false) {\n    this.context = context;\n    this.staticAssets = staticAssets;\n    this.currentPlayer = currentPlayer;\n\n    this.imgLoaded = false;\n    this.fetchImage(data.img);\n  }\n\n  fetchImage(url) {\n    if (this.currentPlayer && url === \"assets/img/egg.png\") {\n      url = \"assets/img/current_player_egg.png\";\n    }\n\n    if (this.staticAssets.images[url]) {\n      this.img = this.staticAssets.images[url];\n      this.imgLoaded = true;\n    } else {\n      this.loadImage(url);\n    }\n  }\n\n  loadImage(url) {\n    this.img = new Image();\n\n    this.img.onload = () => {\n      this.imgLoaded = true;\n      this.staticAssets.addLoadedImage(url, this.img);\n    };\n\n    this.img.src = url;\n  }\n\n  resetImage(url) {\n    this.imgLoaded = false;\n    this.fetchImage(url);\n  }\n\n  checkNewImage(url) {\n    if (!this.img.src.includes(url)) {\n      this.resetImage(url);\n    }\n  }\n\n  draw(offset, data) {\n    this.checkNewImage(data.img);\n    this.drawName(offset, data);\n    this.drawOutline(offset, data);\n\n    if (this.imgLoaded) {\n      this.drawImage(offset, data);\n    }\n  }\n\n  drawName(offset, data) {\n    this.context.fillStyle = Player.PLAYER_INFO_COLOR;\n    this.context.font = \"bold 14px Arial\";\n\n    this.context.fillText(\n      data.name,\n      data.pos[0] + offset[0] + data.radius + 3,\n      data.pos[1] + offset[1]\n    );\n  }\n\n  drawImage(offset, data) {\n    this.context.drawImage(\n      this.img,\n      data.pos[0] + offset[0] - data.radius,\n      data.pos[1] + offset[1] - data.radius,\n      data.radius * 2,\n      data.radius * 2\n    );\n  }\n\n  drawOutline(offset, data) {\n    if (data.direHit) this.drawDireHit(offset, data);\n\n    this.context.beginPath();\n    this.context.arc(\n      data.pos[0] + offset[0],\n      data.pos[1] + offset[1],\n      data.radius,\n      0,\n      2 * Math.PI\n    );\n\n    this.context.lineWidth = Player.NORMAL_OUTLINE_WIDTH;\n    this.context.strokeStyle = Player.PLAYER_INFO_COLOR;\n    this.context.stroke();\n\n    if (data.activatingDireHit || data.direHit) {\n      this.drawDireHitOutline(offset, data);\n    }\n  }\n\n  drawDireHitOutline(offset, data) {\n    this.context.beginPath();\n    this.context.arc(\n      data.pos[0] + offset[0],\n      data.pos[1] + offset[1],\n      data.radius + Player.NORMAL_OUTLINE_WIDTH * 0.75,\n      0,\n      2 * Math.PI\n    );\n\n    this.context.lineWidth = Player.NORMAL_OUTLINE_WIDTH * 0.75;\n    this.context.strokeStyle = Player.DIRE_HIT_COLOR;\n    this.context.stroke();\n  }\n\n  drawDireHit(offset, data) {\n    this.context.beginPath();\n    this.context.fillStyle = Player.SPIKES_COLOR;\n    this.context.fillRect(\n      data.pos[0] + offset[0] - data.radius - Player.DIRE_HIT_OUTLINE_WIDTH / 2 + 2,\n      data.pos[1] + offset[1] - data.radius - Player.DIRE_HIT_OUTLINE_WIDTH / 2 + 2,\n      data.radius * 2 + Player.DIRE_HIT_OUTLINE_WIDTH - 4,\n      data.radius * 2 + Player.DIRE_HIT_OUTLINE_WIDTH - 4\n    );\n\n    this.drawRotatedSquare(offset, data);\n  }\n\n  drawRotatedSquare(offset, data) {\n    this.context.save();\n\n    this.context.translate(\n      data.pos[0] + offset[0],\n      data.pos[1] + offset[1]\n    );\n\n    this.context.rotate(Math.PI / 4);\n    this.context.fillStyle = Player.SPIKES_COLOR;\n    this.context.fillRect(\n      -(data.radius + Player.DIRE_HIT_OUTLINE_WIDTH / 2) + 2,\n      -(data.radius + Player.DIRE_HIT_OUTLINE_WIDTH / 2) + 2,\n      data.radius * 2 + Player.DIRE_HIT_OUTLINE_WIDTH - 4,\n      data.radius * 2 + Player.DIRE_HIT_OUTLINE_WIDTH - 4\n    );\n\n    this.context.restore();\n  }\n}\n\nPlayer.PLAYER_INFO_COLOR = \"#000\";\nPlayer.DIRE_HIT_COLOR = \"#ff3d00\";\nPlayer.SPIKES_COLOR = \"#fffc00\";\nPlayer.NORMAL_OUTLINE_WIDTH = 5;\nPlayer.DIRE_HIT_OUTLINE_WIDTH = 10;\n\nexport default Player;\n\n\n\n// WEBPACK FOOTER //\n// ./client/player.js","import Util from '../server/util.js';\n\nclass StaticAssets {\n  constructor(notifyCallback) {\n    this.loadedCount = 0;\n    this.images = {};\n    this.notifyCallback = notifyCallback;\n\n    this.loadImages();\n  }\n\n  addImage(url) {\n    this.images[url] = new Image();\n\n    this.images[url].onload = () => {\n      this.loadedCount++;\n\n      if (this.checkAllLoaded()) {\n        this.notifyCallback();\n      }\n    };\n\n    this.images[url].src = url;\n  }\n\n  addLoadedImage(url, loadedImage) {\n    this.images[url] = loadedImage;\n  }\n\n  loadImages() {\n    StaticAssets.IMAGE_URLS.forEach(imageUrl => {\n      this.addImage(imageUrl);\n    });\n  }\n\n  checkAllLoaded() {\n    return this.loadedCount === Object.keys(this.images).length;\n  }\n}\n\nStaticAssets.IMAGE_URLS = [\n  \"assets/img/egg.png\",\n  \"assets/img/current_player_egg.png\",\n  \"assets/img/grass.png\"\n];\n\nexport default StaticAssets;\n\n\n\n// WEBPACK FOOTER //\n// ./client/static_assets.js","const POKEMON_IDS = [\n  1, 4, 7, 24, 29, 34, 92, 112, 147, 152, 155, 158, 220, 304, 371\n];\n\nconst Util = {\n  dist(pos1, pos2) {\n    return Math.sqrt(\n      Math.pow(pos1[0] - pos2[0], 2) + Math.pow(pos1[1] - pos2[1], 2)\n    );\n  },\n\n  randomRadius() {\n    return Math.floor(Math.random() * (20 - 5)) + 5;\n  },\n\n  randomVelocity() {\n    return [\n      this.randomVelocityPiece(),\n      this.randomVelocityPiece()\n    ];\n  },\n\n  randomVelocityPiece() {\n    return Math.floor(Math.random() * (1.2 + 1.2)) - 1.2;\n  },\n\n  randomPokemonId() {\n    return POKEMON_IDS[Math.floor(Math.random() * POKEMON_IDS.length)];\n  },\n\n  randomPlayerName() {\n    return POKEMON_CHARACTER_NAMES[Math.floor(Math.random() * POKEMON_CHARACTER_NAMES.length)];\n  },\n\n  randomId() {\n    let text = \"\";\n    const possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n\n    for (let i = 0; i < 5; i++) {\n      text += possible.charAt(Math.floor(Math.random() * possible.length));\n    }\n\n    return text;\n  },\n\n  DEFAULT_RADIUS: 15,\n\n  POKEMON_IDS: POKEMON_IDS\n};\n\nconst POKEMON_CHARACTER_NAMES = [\n  \"Misty\",\n  \"Lass\",\n  \"Beauty\",\n  \"Serena\",\n  \"Bonnie\",\n  \"Iris\",\n  \"Jessie\",\n  \"Lillie\",\n  \"May\",\n  \"Dawn\",\n  \"Moon\",\n  \"Mallow\",\n  \"Sakura\",\n  \"Shauna\",\n  \"Candela\",\n  \"Officer Jenny\",\n  \"Aria\",\n  \"Olivia\",\n  \"Lusamine\",\n  \"Lana\",\n  \"Professor Ivy\",\n  \"Mom\",\n  \"Sabrina\",\n  \"Viola\",\n  \"Daisy\",\n  \"Bianca\",\n  \"Sumomo\",\n  \"Blanche\",\n  \"Agatha\",\n  \"Georgia\",\n  \"Grace\",\n  \"Malva\",\n  \"Karen\"\n];\n\nmodule.exports = Util;\n\n\n\n// WEBPACK FOOTER //\n// ./server/util.js","import GameView from './game_view';\nimport Game from './game';\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  const canvas = document.getElementById(\"game-canvas\");\n  canvas.width = Game.CANVAS_X;\n  canvas.height = Game.CANVAS_Y;\n\n  const context = canvas.getContext(\"2d\");\n  const socket = io();\n\n  const gameView = new GameView(context, socket);\n});\n\n\n\n// WEBPACK FOOTER //\n// ./client/pokemania.js"],"sourceRoot":""}